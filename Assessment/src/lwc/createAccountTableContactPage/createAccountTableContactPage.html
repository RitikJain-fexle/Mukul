<template>
  <lightning-card
    title="Account Datatable"
    icon-name="standard:account"
    variant="base"
  >
    <div>
      <div class="slds-m-around_medium">
        <lightning-button
          variant="brand"
          label="Create Account"
          onclick={showAccountDetails}
        ></lightning-button>
      </div>
      <lightning-datatable
        key-field="id"
        data={data}
        columns={columns}
      ></lightning-datatable>
    </div>
  </lightning-card>

  <template lwc:if={showAccountDetail}>
    <lightning-card icon-name="standard:account" variant="base">
      <section
        role="dialog"
        tabindex="-1"
        aria-modal="true"
        aria-labelledby="modal-heading-01"
        class="slds-modal slds-fade-in-open slds-modal_large"
      >
        <div class="slds-modal__container">
          <button
            class="slds-button slds-button_icon slds-modal__close"
            onclick={closeModal}
          >
            <lightning-icon
              icon-name="utility:close"
              size="small"
              alternative-text="Indicates close"
              variant="inverse"
            >
            </lightning-icon>
          </button>
          <div class="slds-modal__header">
            <h1
              id="modal-heading-01"
              class="slds-modal__title slds-hyphenate"
              tabindex="-1"
            >
              Create Account Form
            </h1>
          </div>
          <div
            class="slds-modal__content slds-p-around_medium"
            id="modal-content-id-1"
          >
            <lightning-record-edit-form
              object-api-name={AccountObj}
              onsuccess={handleSuccess}
              onerror={handleError}
            >
              <div class="slds-grid">
                <div
                  class="slds-size_2-of-2 slds-grid slds-wrap slds-form_horizontal slds-form"
                >
                  <lightning-input-field
                    field-name={Account_Name}
                  ></lightning-input-field>

                  <lightning-input-field
                    field-name={phone}
                  ></lightning-input-field>
                  <lightning-input-field
                    field-name={industry}
                  ></lightning-input-field>
                  <lightning-input-field
                    field-name={rating}
                  ></lightning-input-field>
                  <lightning-input-field
                    field-name={website}
                  ></lightning-input-field>
                </div>
              </div>
              <lightning-button
                type="submit"
                variant="brand"
                label="Save"
                class="slds-align_absolute-center"
              ></lightning-button>
            </lightning-record-edit-form>
          </div>
          <div class="slds-modal__footer">
            <button
              class="slds-button slds-button_neutral"
              aria-label="Cancel and close"
              onclick={closeModal}
            >
              Cancel
            </button>
          </div>
        </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
    </lightning-card>
  </template>
</template>